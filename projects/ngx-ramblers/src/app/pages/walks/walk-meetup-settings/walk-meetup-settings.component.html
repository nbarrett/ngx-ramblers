<app-page>
  <h3 class="card-title ml-3 mb-4">Meetup Settings
    <fa-icon [icon]="faMeetup" class="sfa-2x meetup"></fa-icon>
  </h3>
  <div class="card-text">
    <div class="col-sm-12">
      <tabset class="custom-tabset" #tabs>
        <tab active="true" heading="Maintain description content">
          <div class="img-thumbnail thumbnail-admin-edit">
            <div class="mb-2">
              <ul class="list-arrows">
                <li>Here you can configure content text that will automatically be added to the beginning of
                  the walk description on Meetup events we create.
                </li>
              </ul>
              <div class="row mb-2">
                <div class="col-sm-12">
                  <div class="form-inline">
                    <div class="form-group">
                      <label for="type" class="inline-label">Content item: </label>
                      <select class="form-control input-sm"
                              [ngModel]="selectedContent"
                              (ngModelChange)="onChange($event)"
                              class="form-control"
                              id="type">
                        <option *ngFor="let contentText of contentTextItems"
                                [ngValue]="contentText"
                                [textContent]="contentText.name">
                        </option>
                      </select>
                    </div>
                    <div class="form-group">
                      <input type="submit" value="Add new content" (click)="addNewContent()"
                             title="Add new content"
                             class="button-form button-form-left">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="mt-2 mb-2 font-weight-bold">{{selectedContent?.name}} content:</div>
                  <ng-container *ngFor="let content of contentTextItems">
                    <div *ngIf="matching(content, selectedContent)">
                      <app-markdown-editor [data]="content"
                                           [editNameEnabled]="true"
                                           [deleteEnabled]="true"
                                           [id]="content.name"
                                           [initialView]="view"
                                           [rows]="8">
                      </app-markdown-editor>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </tab>
        <tab heading="Publishing defaults">
          <div class="img-thumbnail thumbnail-admin-edit">
            <div markdown class="mb-2">
              <ul>
                <li>Here you can configure default settings that will be used when creating Meetup events.
                </li>
              </ul>
            </div>
            <app-walk-meetup-config-parameters *ngIf="config" [config]="config"
                                               [contentTextItems]="contentTextItems"></app-walk-meetup-config-parameters>
          </div>
        </tab>
      </tabset>
      <div class="form-group">
        <div *ngIf="notifyTarget.showAlert" class="alert {{notifyTarget.alertClass}}">
          <fa-icon [icon]="notifyTarget.alert.icon"></fa-icon>
          <strong> {{notifyTarget.alertTitle}}: </strong> {{notifyTarget.alertMessage}}
        </div>
      </div>
      <input *ngIf="activeTabIs(1)" type="submit" value="Save" (click)="save()"
             title="Save"
             class="button-form">
      <input type="submit" value="Back to walks" (click)="backToWalks()"
             title="Back to walks"
             class="button-form">
    </div>
  </div>
</app-page>
